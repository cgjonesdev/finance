<html>
    <head>
        <link rel="stylesheet" type="text/css" href="/static/css/style.css">
        <style>
            .admin-links {
                float: right;
                padding-right: 1em;
            }
            input[type=submit], input[type=button] {
                padding: .2em;
            }
        </style>
    </head>
    <body>
        <center><h2><a href="/">Home</a></h2></center>
        {% if not logged_in %}<div class="admin-links"><a href="/login">Login</a></div>{% endif %}
        {% if logged_in %}
            <div class="admin-links"><a href="/logout">Logout</a></div>
            <div class="admin-links">Logged in as <b>{{user.username}}</b></div>
        {% endif %}
        <h1 id="monthHeading">Monthly Balance Sheet</h1><br>
        <div id="main">
            <div id="assets">
                <h3>Assets</h3>
                <form id="addEditAssetForm" name="addAsset" method="POST" action="/balance_sheet" hidden>
                    <input type="hidden" name="user_id" value="{{user._id}}">
                    <input id="addAssetName" name="name" type="text" placeholder="Asset name" tabindex="1" required>
                    <input id="addAssetAmount" type="text" name="amount" amount="" placeholder="Asset amount" tabindex="2" required><br>
                    <input type="button" onclick="cancelAddEdit('asset')" value="Cancel" tabindex="4">
                    <input id="submitAsset" type="submit" value="Add" tabindex="3">
                    <input type="hidden" name="assets_form"><br>
                </form>
                <span style="float:left"><img class="addSymbol" src="/static/assets/add.png" style="margin-top:.2em" width="12" onclick="showAddForm('asset')"></span><br>
                {% for asset in assets %}
                    <div onmouseover="showPencil('{{asset.name}}')" onmouseout="hidePencil('{{asset.name}}')">
                        <img class="edit" name="{{asset.name}}" src="/static/assets/pencil.png" width="24" onclick="showDetailPage('asset', '{{asset._id}}')">
                        <!-- <img class="edit" name="{{asset.name}}" src="/static/assets/pencil.png" width="24" onclick="showEditForm('asset', '{{asset._id}}', '{{asset.amount}}')"> -->
                        <img class="edit" name="{{asset.name}}" style="margin-top:.2em" src="/static/assets/trashcan.png" width="15" onclick="showDelete('asset', '{{asset._id}}')"><span style="float:left">{{asset.name}}</span><span class="assets" style="float:right">${{asset.amount}}</span>
                    </div><br>
                {% endfor %}
                <hr>
                <b><span style="float:left">Total Assets</span><span id="assetsTotal" style="float:right">${{assets.total}}</span><br></b>
            </div>
            <div id="liabilities">
                <h3>Liabilities</h3>
                <form id="addEditLiabilityForm" name="addLiability" method="POST" action="/balance_sheet" hidden>
                    <input type="hidden" name="user_id" value="{{user._id}}">
                    <input id="addLiabilityName" name="name" type="text" placeholder="Liability name" tabindex="5" required>
                    <input id="addLiabilityAmount" type="text" name="amount" placeholder="Liability amount" tabindex="6" required><br>
                    <input type="button" onclick="cancelAddEdit('liability')" value="Cancel" tabindex="8">
                    <input id="submitLiability" type="submit" value="Add"/ tabindex="7">
                    <input type="hidden" name="liabilities_form"><br>
                </form>
                <span style="float:left"><img class="addSymbol" src="/static/assets/add.png" style="margin-top:.2em" width="12" onclick="showAddForm('liability')"></span><br>
                {% for liability in liabilities %}
                    <div onmouseover="showPencil('{{liability.name}}')" onmouseout="hidePencil('{{liability.name}}')">
                        <img class="edit" name="{{liability.name}}" src="/static/assets/pencil.png" width="24" onclick="showDetailPage('liability', '{{liability._id}}')">
                        <!-- <img class="edit" name="{{liability.name}}" src="/static/assets/pencil.png" width="24" onclick="showEditForm('liability', '{{liability._id}}', '{{liability.amount}}')"> -->
                        <img class="edit" name="{{liability.name}}" style="margin-top:.2em" src="/static/assets/trashcan.png" width="15" onclick="showDelete('liability', '{{liability._id}}')"><span style="float:left">{{liability.name}}</span><span class="liabilities" style="float:right">${{liability.amount | abs}}</span>
                    </div><br>
                {% endfor %}
                <hr>
                <b><span style="float:left"><b>Total Liabilities</b></span><span id="liabilitiesTotal" style="float:right">${{liabilities.total}}</span><br></b>
            </div>
            <div id="equity">
               <h3>Equity</h3>
                <form id="addEditEquityForm" name="addEquity" method="POST" action="/balance_sheet" hidden>
                    <input type="hidden" name="user_id" value="{{user._id}}">
                    <input id="addEquityName" name="name" type="text" placeholder="Equity name" tabindex="9" required>
                    <input id="addEquityAmount" type="text" name="amount" placeholder="Equity amount" tabindex="10" required><br>
                    <input type="button" onclick="cancelAddEdit('equity')" value="Cancel" tabindex="12">
                    <input id="submitEquity" type="submit" value="Add" tabindex="11">
                    <input type="hidden" name="equities_form"><br>
                </form>
                <span style="float:left"><img class="addSymbol" src="/static/assets/add.png" style="margin-top:.2em" width="12" onclick="showAddForm('equity')"></span><br>
                {% for equity in equities %}
                    <div {% if equity.name not in ('Assets', 'Liabilities') %} onmouseover="showPencil('{{equity.name}}')" onmouseout="hidePencil('{{equity.name}}')" {% endif %}>
                        <!-- <img class="edit" name="{{equity.name}}" src="/static/assets/pencil.png" width="24" onclick="showDetailPage('equity', '{{equity._id}}')"> -->
                        <img class="edit" name="{{equity.name}}" src="/static/assets/pencil.png" width="24" onclick="showEditForm('equity', '{{equity._id}}', '{{equity.amount}}')">
                        <img class="edit" name="{{equity.name}}" style="margin-top:.2em" src="/static/assets/trashcan.png" width="15" onclick="showDelete('equity', '{{equity._id}}')"><span style="float:left">{{equity.name}}</span><span class="equityAssets equity" style="float:right">${{equity.amount}}</span>
                    </div><br>
                {% endfor %}
                <hr>
                <b><span style="float:left"><b>Total Equity</b></span><span id="equityTotal" style="float:right">${{equities.total}}</span><br></b>
            </div>
        </div>
    <script type="text/javascript" src="/static/js/balance_sheet.js"></script>
    </body>
</html>
